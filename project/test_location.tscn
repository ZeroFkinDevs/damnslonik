[gd_scene load_steps=16 format=4 uid="uid://chkxcrr31soaw"]

[ext_resource type="Texture2D" uid="uid://sadpx7gtolb3" path="res://resources/textures/map/bg.png" id="1_7smf6"]
[ext_resource type="Texture2D" uid="uid://c8vy7hyf0aw2u" path="res://resources/textures/map/sewer.png" id="1_adare"]
[ext_resource type="Script" uid="uid://0l48qq2bw8rl" path="res://scripts/entity/interactive/ladder_interaction_test.gd" id="3_sk2n7"]
[ext_resource type="Texture2D" uid="uid://d1wb76lbbs4oc" path="res://resources/textures/light.png" id="5_b51pg"]
[ext_resource type="PackedScene" uid="uid://bdrtmjov0or0o" path="res://scenes/objects/player/player.tscn" id="5_sk2n7"]
[ext_resource type="Script" uid="uid://bh865ey6mwdk0" path="res://scripts/narrative/test/test_narrative.gd" id="5_uprbi"]
[ext_resource type="Texture2D" uid="uid://6on376qpwcvd" path="res://resources/textures/map/ladder.png" id="6_sk2n7"]
[ext_resource type="Script" uid="uid://dv2scs1f80n0x" path="res://scripts/narrative/test/mef_narrative.gd" id="6_thsex"]
[ext_resource type="Texture2D" uid="uid://cc77hem76415g" path="res://resources/textures/mef.png" id="7_2mso7"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sk2n7"]
size = Vector2(54, 486)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_uprbi"]
size = Vector2(114, 109)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_p7tj1"]
size = Vector2(78, 64)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_b51pg"]
polygon = PackedVector2Array(-64, -54.857143, 64, -54.857143, 64, 64, -64, 64)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_0yauj"]
texture = ExtResource("1_adare")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
0:0/0/occlusion_layer_0/polygon_0/polygon = SubResource("OccluderPolygon2D_b51pg")
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)

[sub_resource type="TileSet" id="TileSet_21p7k"]
tile_size = Vector2i(128, 128)
occlusion_layer_0/light_mask = 1
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_0yauj")

[node name="TestLocation" type="Node2D"]
texture_filter = 1

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.29954746, 0.29954746, 0.29954743, 1)

[node name="Parallax2D" type="Parallax2D" parent="."]
scroll_scale = Vector2(0.8, 0.8)

[node name="Bg" type="Sprite2D" parent="Parallax2D"]
position = Vector2(627, 481)
scale = Vector2(2.6693118, 2.669312)
texture = ExtResource("1_7smf6")

[node name="PointLight2D2" type="PointLight2D" parent="."]
texture_filter = 1
position = Vector2(895, 361)
energy = 1.84
shadow_enabled = true
texture = ExtResource("5_b51pg")
texture_scale = 1.27

[node name="PointLight2D" type="PointLight2D" parent="."]
texture_filter = 1
position = Vector2(335, 362)
energy = 1.7
shadow_enabled = true
texture = ExtResource("5_b51pg")
texture_scale = 1.27

[node name="Ladder" type="Area2D" parent="." node_paths=PackedStringArray("narrative", "display_point")]
position = Vector2(77, 455)
collision_layer = 2
collision_mask = 2
script = ExtResource("3_sk2n7")
narrative = NodePath("Narrative")
label = "Ladder"
display_point = NodePath("display point")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ladder"]
position = Vector2(0, -187)
shape = SubResource("RectangleShape2D_sk2n7")

[node name="Ladder" type="Sprite2D" parent="Ladder"]
position = Vector2(-9, 16.25)
scale = Vector2(0.16499999, 0.16499999)
texture = ExtResource("6_sk2n7")

[node name="Ladder2" type="Sprite2D" parent="Ladder"]
position = Vector2(-9, -65.99997)
scale = Vector2(0.16499999, 0.16499999)
texture = ExtResource("6_sk2n7")

[node name="Ladder3" type="Sprite2D" parent="Ladder"]
position = Vector2(-9, -145.99997)
scale = Vector2(0.16499999, 0.16499999)
texture = ExtResource("6_sk2n7")

[node name="Ladder4" type="Sprite2D" parent="Ladder"]
position = Vector2(-9, -227)
scale = Vector2(0.16499999, 0.16499999)
texture = ExtResource("6_sk2n7")

[node name="Ladder5" type="Sprite2D" parent="Ladder"]
position = Vector2(-9, -307)
scale = Vector2(0.16499999, 0.16499999)
texture = ExtResource("6_sk2n7")

[node name="Ladder6" type="Sprite2D" parent="Ladder"]
position = Vector2(-9, -388)
scale = Vector2(0.16499999, 0.16499999)
texture = ExtResource("6_sk2n7")

[node name="display point" type="Node2D" parent="Ladder"]
position = Vector2(-1, -50)

[node name="Narrative" type="Node" parent="Ladder"]
script = ExtResource("5_uprbi")

[node name="Ladder2" type="Area2D" parent="." node_paths=PackedStringArray("narrative", "display_point")]
position = Vector2(1146, 458)
collision_layer = 2
collision_mask = 2
script = ExtResource("3_sk2n7")
narrative = NodePath("Narrative")
label = "мефчик"
display_point = NodePath("display point")

[node name="Sprite2D2" type="Sprite2D" parent="Ladder2"]
position = Vector2(1, 23.000061)
scale = Vector2(0.13080165, 0.1308016)
texture = ExtResource("7_2mso7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ladder2"]
position = Vector2(0, 26.5)
shape = SubResource("RectangleShape2D_uprbi")

[node name="display point" type="Node2D" parent="Ladder2"]
position = Vector2(2, 25)

[node name="Narrative" type="Node" parent="Ladder2" node_paths=PackedStringArray("boxes")]
script = ExtResource("6_thsex")
boxes = [NodePath("../RigidBody2D"), NodePath("../RigidBody2D2"), NodePath("../RigidBody2D3"), NodePath("../RigidBody2D4")]

[node name="RigidBody2D" type="RigidBody2D" parent="Ladder2"]
position = Vector2(-6, -519)
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="Ladder2/RigidBody2D"]
scale = Vector2(0.13080165, 0.1308016)
texture = ExtResource("7_2mso7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ladder2/RigidBody2D"]
shape = SubResource("RectangleShape2D_p7tj1")

[node name="RigidBody2D2" type="RigidBody2D" parent="Ladder2"]
position = Vector2(-42, -589)
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="Ladder2/RigidBody2D2"]
scale = Vector2(0.13080165, 0.1308016)
texture = ExtResource("7_2mso7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ladder2/RigidBody2D2"]
shape = SubResource("RectangleShape2D_p7tj1")

[node name="RigidBody2D3" type="RigidBody2D" parent="Ladder2"]
position = Vector2(14, -666)
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="Ladder2/RigidBody2D3"]
scale = Vector2(0.13080165, 0.1308016)
texture = ExtResource("7_2mso7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ladder2/RigidBody2D3"]
shape = SubResource("RectangleShape2D_p7tj1")

[node name="RigidBody2D4" type="RigidBody2D" parent="Ladder2"]
position = Vector2(-19, -742)
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="Ladder2/RigidBody2D4"]
scale = Vector2(0.13080165, 0.1308016)
texture = ExtResource("7_2mso7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ladder2/RigidBody2D4"]
shape = SubResource("RectangleShape2D_p7tj1")

[node name="RigidBody2D5" type="RigidBody2D" parent="Ladder2"]
position = Vector2(-3, -820)
metadata/_edit_group_ = true

[node name="Sprite2D" type="Sprite2D" parent="Ladder2/RigidBody2D5"]
scale = Vector2(0.13080165, 0.1308016)
texture = ExtResource("7_2mso7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Ladder2/RigidBody2D5"]
shape = SubResource("RectangleShape2D_p7tj1")

[node name="Player" parent="." instance=ExtResource("5_sk2n7")]
position = Vector2(316.00003, 198)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAQAAAAAAAAAAAABAAQAAAAAAAAAAAACAAQAAAAAAAAAAAADAAQAAAAAAAAAAAAEAAQAAAAAAAAAAAAFAAQAAAAAAAAAAAAGAAQAAAAAAAAAAAAHAAQAAAAAAAAAAAAIAAQAAAAAAAAAAAAJAAQAAAAAAAAAAAAKAAQAAAAAAAAAAAALAAQAAAAAAAAAAAA=")
tile_set = SubResource("TileSet_21p7k")
